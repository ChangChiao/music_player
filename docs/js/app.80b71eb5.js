(function(t){function e(e){for(var s,i,r=e[0],c=e[1],l=e[2],p=0,g=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&g.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(g.length)g.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},a={app:0},o=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/music_player/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0653":function(t,e,n){"use strict";n("888b")},"14a4":function(t,e,n){var s={"./Group 20.svg":"9984","./line.svg":"fa21","./line2.svg":"a92a","./line3.svg":"c8e9","./next.svg":"77b0","./play.svg":"7b17","./play2.svg":"62c7","./player.svg":"2bbf","./prev.svg":"3b75","./search.svg":"8441","./sound.svg":"9656","./stop.svg":"b38c","./stop2.svg":"f2dc","./tra.svg":"901d"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="14a4"},"1a1c":function(t,e,n){"use strict";n("56d1")},"1b45":function(t,e,n){t.exports=n.p+"img/02.60e11641.jpg"},"2bbf":function(t,e,n){t.exports=n.p+"img/player.35d7ffce.svg"},"3b75":function(t,e,n){t.exports=n.p+"img/prev.8b81dc29.svg"},"56d1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t.flag?n("div",{staticClass:"loading"},[n("svg",{staticClass:"spinner",attrs:{width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"}})])]):t._e()],1)},o=[],i={data:function(){return{flag:!1}},created:function(){var t=this;this.$bus.$on("open",(function(){t.flag=!0})),this.$bus.$on("close",(function(){t.flag=!1}))},beforeDestroy:function(){this.$bus.$off("open"),this.$bus.$off("close")}},r=i,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,a,o,!1,null,null,null),u=l.exports,p=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Player",{attrs:{nowSong:t.nowSong,songList:t.songList,openFlag:t.openFlag},on:{switchSong:t.switchSong}}),n("List",{attrs:{selectIndex:t.selectIndex,songList:t.songList,openFlag:t.openFlag},on:{openList:t.openList,setSelect:t.setSelect}})],1)},d=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["player",{active:t.openFlag}]},[t._m(0),s("canvas",{directives:[{name:"show",rawName:"v-show",value:t.canvasFlag[0],expression:"canvasFlag[0]"}],attrs:{id:"myCanvas",width:"600",height:"600"}}),s("canvas",{directives:[{name:"show",rawName:"v-show",value:t.canvasFlag[1],expression:"canvasFlag[1]"}],attrs:{id:"myCanvas2",width:"600",height:"600"}}),s("div",{class:["player__cd",{playing:t.status}]},[s("img",{attrs:{src:n("9d29")("./"+t.nowSong.pic+".jpg"),alt:""}})]),s("div",{staticClass:"player__btn"},[s("div",{staticClass:"player__btn--next",on:{click:function(e){return t.next(1)}}},[s("img",{attrs:{src:n("3b75"),alt:""}})]),s("div",{staticClass:"player__btn--prev",on:{click:function(e){return t.next(-1)}}},[s("img",{attrs:{src:n("3b75"),alt:""}})]),t._m(1)]),s("div",{staticClass:"player__control"},[s("div",{staticClass:"player__control__info"},[s("h2",[t._v(t._s(t.nowSong.name))]),s("p",[t._v(t._s(t.nowSong.author))])]),s("div",{staticClass:"player__control__play"},[s("img",{class:{active:t.status},attrs:{src:n("f9fa"),alt:""}}),s("button",{on:{click:t.playMusic}},[s("img",{attrs:{src:n("14a4")("./"+(t.status?"stop":"play")+".svg"),alt:""}})])]),s("div",{staticClass:"player__control__vol"},[s("input",{staticClass:"vol",attrs:{type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.volume},on:{change:t.controlVol}}),s("img",{attrs:{src:n("9656"),alt:""}})]),s("span",{staticClass:"time seek"},[t._v(t._s(t.formateTime(t.time.seek)))]),s("input",{staticClass:"progress",attrs:{type:"range",min:"0",max:Math.round(t.time.duration),step:"1"},domProps:{value:t.progress},on:{change:t.setProgress}}),s("span",{staticClass:"time duration"},[t._v(t._s(t.formateTime(t.time.duration)))])])])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preload"},[s("img",{attrs:{src:n("c9b5"),alt:""}}),s("img",{attrs:{src:n("1b45"),alt:""}}),s("img",{attrs:{src:n("c4ea"),alt:""}}),s("img",{attrs:{src:n("a18c"),alt:""}}),s("img",{attrs:{src:n("8c56"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"player__btn--repeat"},[s("img",{attrs:{src:n("9984"),alt:""}})])}],h=(n("28a5"),n("ac6a"),n("1e5c")),m={props:{openFlag:Boolean,nowSong:Object,songList:Array},computed:{iconStatus:function(){return"../assets/F2E_week3/".concat(status?"stop":"play",".svg")},audioFiles:function(){return this.songList.map((function(t){return t.src}))}},watch:{nowSong:{handler:function(){this.time={duration:0,seek:0},this.player.pause(),this.status=!1,this.initPlayer()},deep:!0}},data:function(){return{groupList:["Classical","EDM","Hip-hop / Rap","Jazz/Blues","Pop"],volume:.5,status:!1,player:null,progress:0,timer:null,time:{duration:0,seek:0},canvasFlag:[!1,!1],publicPath:"/music_player/",loaded:0}},methods:{next:function(t){this.$emit("switchSong",t)},preloadAudio:function(){var t=this;this.audioFiles.forEach((function(e){var n=new Audio;n.addEventListener("canplaythrough",t.loadedAudio,!1),n.src="".concat(t.publicPath,"mp3/").concat(e)}))},loadedAudio:function(){this.loaded++,this.loaded==this.audioFiles.length-1&&(this.initPlayer(),this.$bus.$emit("close"))},playMusic:function(){this.status=!this.status,this.status?(this.player.play(),this.timerProgress()):(clearInterval(this.timer),this.player.pause())},initPlayer:function(){var t="".concat(this.publicPath,"mp3/").concat(this.nowSong.src);null==this.player?this.player=new h["Howl"]({src:t,preload:!0,autoplay:!1,loop:!1,volume:this.volume}):this.player.changeSong(t)},canvasController:function(){this.canvasFlag=[!1,!1],this.progress%2===0&&(this.canvasFlag[0]=!0),this.progress%3===0&&(this.canvasFlag[1]=!0)},timerProgress:function(){var t=this;clearInterval(this.timer),this.time.duration=this.player.duration(),this.timer=setInterval((function(){t.time.seek=t.player.seek(),t.progress=Math.round(t.player.seek()),console.log("this.progress",t.progress),t.canvasController()}),500)},controlVol:function(t){var e=t.target.value;this.volume=e,h["Howler"].volume(e)},setProgress:function(t){var e=t.target.value;this.player.seek(e)},formateTime:function(t){var e=Math.round(t),n=e%60,s=Math.floor(t/60);return this.addZero("".concat(s,":").concat(n))},addZero:function(t){var e=t.split(":"),n=2===e[0].length?e[0]:"0".concat(e[0]),s=2===e[1].length?e[1]:"0".concat(e[1]);return"".concat(n,":").concat(s)},canvasSet:function(){var t=document.getElementById("myCanvas"),e=t.getContext("2d");e.lineWidth=3,e.strokeStyle="#aaa",e.beginPath(),e.moveTo(120,50),e.quadraticCurveTo(50,100,30,150),e.moveTo(480,90),e.quadraticCurveTo(540,180,550,280),e.moveTo(470,450),e.quadraticCurveTo(420,520,320,540),e.stroke();var n=document.getElementById("myCanvas2"),s=n.getContext("2d");s.lineWidth=2,s.strokeStyle="#888",s.beginPath(),s.moveTo(500,150),s.quadraticCurveTo(520,180,528,220),s.moveTo(0,300),s.quadraticCurveTo(10,350,25,380),s.moveTo(80,60),s.quadraticCurveTo(40,100,30,120),s.stroke()}},mounted:function(){h["Howl"].prototype.changeSong=function(t){var e=this;e.unload(),e._duration=0,e._sprite={},e._src="string"!==typeof t?t:[t],e.load()},this.$bus.$emit("open"),this.preloadAudio(),this.canvasSet()}},_=m,y=(n("0653"),Object(c["a"])(_,f,v,!1,null,"22463ad6",null)),b=y.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["list",{active:t.openFlag}]},[s("header",[s("h1",[t._v("排行top 5歌單")]),s("div",{staticClass:"list__menu",on:{click:t.openList}},[t._v("List")])]),s("ul",{staticClass:"list__song"},t._l(t.songList,(function(e,n){return s("li",{key:n,on:{click:function(e){return t.setSelect(n)}}},[s("h4",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.author))]),s("p",{staticClass:"time"},[t._v(t._s(e.time))])])})),0),s("div",{staticClass:"list__pic"},[s("img",{attrs:{src:n("9d29")("./"+t.songList[t.selectIndex].pic+".jpg"),alt:""}})])])},w=[],C=(n("c5f6"),{props:{songList:Array,openFlag:Boolean,selectIndex:Number},methods:{setSelect:function(t){this.$emit("setSelect",t)},openList:function(){this.$emit("openList")}}}),L=C,S=(n("1a1c"),Object(c["a"])(L,x,w,!1,null,"201cb9f7",null)),F=S.exports,j={computed:{nowSong:function(){return this.songList[this.selectIndex]}},data:function(){return{selectIndex:0,openFlag:!1,songList:[{name:"Heart of a Lion",author:"RENAE",src:"RENAE_-_Heart_of_a_Lion__Leo_.mp3",pic:"01",time:"03:52",type:"pop"},{name:"Aching",author:"ALLES",src:"Alles_-_Aching.mp3",pic:"02",time:"03:32",type:"pop"},{name:"Criminal",author:"AXL & ARTH",src:"Axl__amp__Arth_-_Criminal.mp3",pic:"03",time:"02:45",type:"pop"},{name:"Find A Way",author:"THE DLX",src:"THE_DLX_-_Find_A_Way.mp3",pic:"04",time:"02:45",type:"pop"},{name:"It Is Well",author:"THE DEVIL MUSIC CO.",src:"The_Devil_Music_Co._-_It_Is_Well.mp3",pic:"05",time:"02:45",type:"pop"}]}},components:{Player:b,List:F},methods:{openList:function(){this.openFlag=!this.openFlag,console.log("this.openFlag",this.openFlag)},setSelect:function(t){this.selectIndex=t,console.log("setSelect",this.selectIndex)},switchSong:function(t){this.selectIndex+=t,this.selectIndex>this.songList.length-1&&(this.selectIndex=0),this.selectIndex<0&&(this.selectIndex=this.songList.length)}}},k=j,E=Object(c["a"])(k,g,d,!1,null,"2c687dee",null),I=E.exports;s["a"].use(p["a"]);var O=new p["a"]({routes:[{path:"/",name:"Index",component:I}]}),T=n("2f62");s["a"].use(T["a"]);var P=new T["a"].Store({state:{},mutations:{},actions:{}});s["a"].config.productionTip=!1,s["a"].prototype.$bus=new s["a"],new s["a"]({router:O,store:P,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("e332")},"62c7":function(t,e,n){t.exports=n.p+"img/play2.ea279fe4.svg"},"77b0":function(t,e,n){t.exports=n.p+"img/next.b41b6646.svg"},"7b17":function(t,e,n){t.exports=n.p+"img/play.c363353e.svg"},8441:function(t,e,n){t.exports=n.p+"img/search.fbafc176.svg"},"888b":function(t,e,n){},"8c56":function(t,e,n){t.exports=n.p+"img/05.9d357881.jpg"},"901d":function(t,e,n){t.exports=n.p+"img/tra.89528d4d.svg"},9656:function(t,e,n){t.exports=n.p+"img/sound.d3cc93dd.svg"},9984:function(t,e,n){t.exports=n.p+"img/Group 20.4c0e792a.svg"},"9d29":function(t,e,n){var s={"./01.jpg":"c9b5","./02.jpg":"1b45","./03.jpg":"c4ea","./04.jpg":"a18c","./05.jpg":"8c56"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="9d29"},a18c:function(t,e,n){t.exports=n.p+"img/04.44a78814.jpg"},a92a:function(t,e,n){t.exports=n.p+"img/line2.31778624.svg"},b38c:function(t,e,n){t.exports=n.p+"img/stop.a54fda48.svg"},c4ea:function(t,e,n){t.exports=n.p+"img/03.11084142.jpg"},c8e9:function(t,e,n){t.exports=n.p+"img/line3.f311fb90.svg"},c9b5:function(t,e,n){t.exports=n.p+"img/01.033d302c.jpg"},e332:function(t,e,n){},f2dc:function(t,e,n){t.exports=n.p+"img/stop2.37ef04e8.svg"},f9fa:function(t,e,n){t.exports=n.p+"img/player.38aaf7f2.png"},fa21:function(t,e,n){t.exports=n.p+"img/line.1482722a.svg"}});
//# sourceMappingURL=app.80b71eb5.js.map